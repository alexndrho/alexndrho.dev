---
import { getCollection } from "astro:content";

import Layout from "@/layouts/Layout.astro";
import GalleryPreview from "@/components/GalleryPreview.astro";

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const canonicalHref = canonicalURL.toString().replace(/\/$/, "");

const gallery = (await getCollection("gallery")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout
  title="Alexander Gabriel Ho | Full Stack Web Developer"
  description="Explore the collection of digital art, illustrations, and creative projects by Alexander Gabriel Ho."
  canonicalURL={canonicalHref}
>
  <main class="container">
    <h1>Gallery</h1>

    <p>
      Welcome to my gallery! a collection of digital artworks, illustrations,
      and creative projects I&apos;ve created. Feel free to explore what&apos;s
      here.
    </p>

    <GalleryPreview gallery={gallery} />
  </main>

  <style>
    html {
      scroll-behavior: auto;
    }

    .container {
      padding-top: var(--spacing-xl);
      padding-bottom: var(--spacing-xl);
    }
  </style>
</Layout>
